<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="x-dns-prefetch-control" content="on" />
<title>个人作品</title>
<link rel="shortcut icon" href="zzs.ico" />
<link rel="dns-prefetch" href="http://bdimg.share.baidu.com" />
<style>
	*{margin:0;padding:0;}
	body{ position:absolute;left:0;top:0; width:100%; height:1000%;}
	.wrap{ width:1100px; margin:0 auto;border:1px solid red; height:1000px; position:relative;}
	.test{ height:200px; width:200px; background:purple;bottom:500;left:900px;position:absolute;opacity:0;}
</style>
</head>
	
<body>
	<div class="wrap">
		<div class="test" id="test"></div>
    </div>
</body>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>


<script>
	$(function(){
		
		
		
		var scrolls=function(){
			
			$("body,html").animate({scrollTop:500});
			
			$(window).scroll(function(){
				var top=$(document).scrollTop();
				doMove(top,".test",[{
					min:200,
					max:500
					},{
					min:200,
					max:500
					},{
					min:200,
					max:500
					}],[{
						s:900,
						e:0
					},{
						s:0,
						e:1
					},{
						s:500,
						e:0
					}],function(o){
						var arr=["left","opacity","bottom"];
						
						if(o.t>=o.e){
							$.each(arr,function(k,v){
								$(o.obj).css(arr[k],o.tar[k]["e"]);
							});
						}else if(o.t<=o.s){
							$.each(arr,function(k,v){
								$(o.obj).css(arr[k],o.tar[k]["s"]);
							});
						}else{
							$.each(o.now,function(k,v){
								$(o.obj).css(arr[k],v);
							});
						}
				});	
			});
			
			var doMove=function(t,obj,o,tar,callBack){
				var arr=[];
				$.each(o,function(k,v){
					var start=v["min"],end=v["max"];
					var times=v["max"]/(v["max"]-v["min"]);
					var a=(tar[k]["e"]-tar[k]["s"])/(v["max"]/times)*(t-v["min"])+tar[k]["s"];
					arr[k]=a;
					callBack({
						obj:obj,
						s:start,
						e:end,
						t:t,
						now:arr,
						tar:tar
					});
				});
				
			}
			
		}
		scrolls();
		
		
		
	});
</script>

</html>
